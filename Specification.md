# Техническое задание: Система управления студентами, классами и лекциями

## Общее описание

Система представляет собой API для управления студентами, классами и лекциями. Студенты объединены в классы, каждый класс имеет уникальный учебный план из лекций.

## Сущности и их атрибуты

### Студент (Student)
- `name` - имя (строка)
- `email` - email (уникальная строка)

### Класс (Group)
- `name` - название (уникальная строка)

### Лекция (Lecture)
- `topic` - тема (уникальная строка)
- `description` - описание (текст)

## Отношения между сущностями

- Студент может состоять только в одном классе
- В классе может быть много студентов
- У каждого класса есть учебный план из различных лекций (лекции не повторяются)
- Разные классы проходят лекции в разном порядке

## Требуемые API endpoints

### Управление студентами

1. **GET /api/students** - получить список всех студентов
2. **GET /api/students/{id}** - получить информацию о конкретном студенте (имя, email + класс + прослушанные лекции)
3. **POST /api/students** - создать студента
4. **PUT/PATCH /api/students/{id}** - обновить студента (имя, принадлежность к классу)
5. **DELETE /api/students/{id}** - удалить студента

### Управление классами

6. **GET /api/groups** - получить список всех классов
7. **GET /api/groups/{id}** - получить информацию о конкретном классе (название + студенты класса)
8. **GET /api/groups/{id}/curriculum** - получить учебный план (список лекций) для конкретного класса
9. **POST/PUT /api/groups/{id}/curriculum** - создать/обновить учебный план (очередность и состав лекций) для конкретного класса
10. **POST /api/groups** - создать класс
11. **PUT/PATCH /api/groups/{id}** - обновить класс (название)
12. **DELETE /api/groups/{id}** - удалить класс (при удалении класса, привязанные студенты должны открепляться от класса, но не удаляться полностью из системы)

### Управление лекциями

13. **GET /api/lectures** - получить список всех лекций
14. **GET /api/lectures/{id}** - получить информацию о конкретной лекции (тема, описание + какие классы прослушали лекцию + какие студенты прослушали лекцию)
15. **POST /api/lectures** - создать лекцию
16. **PUT/PATCH /api/lectures/{id}** - обновить лекцию (тема, описание)
17. **DELETE /api/lectures/{id}** - удалить лекцию

## Технические требования

### 1. Типизация
- Использовать строгую типизацию везде

### 2. Архитектура контроллеров
- В контроллерах не должно быть бизнес-логики
- Контроллер должен:
    - Принимать объект Request
    - Извлекать валидированные данные
    - Вызывать методы моделей или сервисов
    - Отлавливать исключения
    - Возвращать результат в формате JSON

### 3. Сервисный слой
- Сложная бизнес-логика выносится в сервисы
- Сервисы работают с моделями
- Сервисы реализуют методы на основе методов моделей с дополнением бизнес-логикой

### 4. Формат ответов
- Все ответы API должны быть в формате JSON

### 5. Валидация
- Реализовать валидацию передаваемых данных
- Валидация выносится в Form Request классы

### 6. Dependency Injection
- Использовать Dependency Injection в контроллерах и сервисах

### 7. Оптимизация запросов
- Количество запросов должно быть оптимальным
- Использовать жадную загрузку (eager loading) для получения связанных данных

## Дополнительные требования

- Авторизация не требуется
- Frontend не требуется
- API должно быть публичным
- Стек технологий: PHP 8.4 + MySQL 8.4 + Swagger + Redis

## Примечание

В кодовой базе используется название `Group` для сущности "класс" (чтобы избежать конфликта с зарезервированным словом `Class`).
